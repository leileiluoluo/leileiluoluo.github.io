<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>深入理解 Java 中的对象克隆 - 磊磊落落</title>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=keywords content="Java,对象,克隆,clone,深拷贝,浅拷贝,拷贝构造器"><meta name=description content="本文介绍了 Java 中对象克隆的相关知识，包括：对象克隆的概念、对象克隆的实现方式、浅拷贝与深拷贝、拷贝构造器等。"><meta name=author content="磊磊落落"><meta name=generator content="Hugo 0.123.7"><link rel=stylesheet href=https://leileiluoluo.github.io/css/bootstrap.min.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/themify-icons.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/larry-custom.css><link rel=stylesheet href=https://leileiluoluo.github.io/scss/style.min.css media=screen><link rel="shortcut icon" href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon><link rel=icon href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon></head><body><header class="fixed-top navigation"><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=navbar-brand href=https://leileiluoluo.github.io/>磊磊落落</a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/></a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/>计算机</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E9%9A%8F%E7%AC%94/>随笔</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AF%BB%E4%B9%A6/>读书</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%A7%82%E5%BD%B1/>观影</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E7%BB%83%E5%AD%97/>练字</a></li></ul><div class=search><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://leileiluoluo.github.io//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder=键入关键字后回车...></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><div class="py-5 d-none d-lg-block"></div><section class=section><div class=container><div class=row><div class="col-lg-8 mx-auto block shadow mb-5"><h1>深入理解 Java 中的对象克隆</h1><div class="mb-3 post-meta">2024年03月20日
<a href=/categories/%e8%ae%a1%e7%ae%97%e6%9c%ba>计算机</a></div><div class="content mb-5"><p>在 Java 中，对象克隆指的是创建一个现有对象的副本。该副本具有与原始对象相同的状态和属性，但在内存中两者是独立存在的，针对其中一个对象的修改不会影响到另一个对象。</p><p>要使一个类能够被克隆，需要满足以下条件：</p><ul><li><p>实现 <code>Cloneable</code> 接口</p><p><code>Cloneable</code> 是一个标记接口，没有任何方法，实现了该接口，即表示该类可以被克隆。</p><p><code>Cloneable</code> 接口的定义如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> java.lang;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Cloneable</span> {}
</span></span></code></pre></div></li><li><p>重写 <code>clone()</code> 方法</p><p>重写 <code>Object</code> 类中定义的受保护 <code>clone()</code> 方法，并将其访问修饰符设置为 <code>public</code>。而且按照约定，需要使用 <code>super.clone()</code> 调用 <code>Object</code> 的 <code>clone()</code> 方法来实现逐字段拷贝。</p><p><code>clone()</code> 方法在 <code>Object</code> 类中的定义如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>package</span> java.lang;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Object</span> {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@IntrinsicCandidate</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>protected</span> <span style=color:#66d9ef>native</span> Object <span style=color:#a6e22e>clone</span>() <span style=color:#66d9ef>throws</span> CloneNotSupportedException;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>若不实现 <code>Cloneable</code> 接口，则调用 <code>super.clone()</code> 时会抛出 <code>CloneNotSupportedException</code>。</p></li></ul><p><strong><em>注意：Java 中针对对象克隆的这一设计存在一定的「缺陷」。一个类支持克隆需要实现 <code>Cloneable</code> 接口，但 <code>clone()</code> 方法却没定义在该接口中。所以，即便一个类在声明上实现了该接口，但无法强制它必须含有 <code>clone()</code> 方法。</em></strong></p><p>下面即尝试使用一下对象克隆。</p><h2 id=1-尝试使用-clone-方法>1 尝试使用 clone() 方法</h2><p>下面尝试新建一个房子（<code>House</code>）类，里边有名称（<code>name</code>）、大小（<code>size</code>）和冰箱（<code>refrigerator</code>）三个属性。该类实现了 <code>Cloneable</code> 接口并重写了 <code>Object</code> 的 <code>clone()</code> 方法。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>House</span> <span style=color:#66d9ef>implements</span> Cloneable {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Integer size;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Refrigerator refrigerator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>House</span>(String name, Integer size, Refrigerator refrigerator) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> size;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> refrigerator;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> House <span style=color:#a6e22e>clone</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> (House) <span style=color:#66d9ef>super</span>.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (CloneNotSupportedException e) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(e);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Refrigerator</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Refrigerator</span>(String name) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        House house1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> House(<span style=color:#e6db74>&#34;Larry&#39;s House&#34;</span>, 100, <span style=color:#66d9ef>new</span> Refrigerator(<span style=color:#e6db74>&#34;Larry&#39;s Refrigerator&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        House house2 <span style=color:#f92672>=</span> house1.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s House&#34;</span>;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> 99;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s Refrigerator&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1); <span style=color:#75715e>// House@404b9385</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 100</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// House$Refrigerator@6d311334</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2); <span style=color:#75715e>// House@682a0b20</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 99</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// House$Refrigerator@6d311334</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>可以看到，<code>House</code> 类重写 <code>clone()</code> 方法时，按照约定直接调用了 <code>super.clone()</code> 来实现。</p><p>在 <code>House</code> 类的 <code>main()</code> 方法进行测试时发现：针对原始对象 <code>house1</code>，使用 <code>house1.clone()</code> 获取到了其克隆对象 <code>house2</code>。直接打印 <code>house1</code> 与 <code>house2</code>，发现 <code>hashCode</code> 不同，说明两者是不同的实例，但两者的各属性值均相同。接着，<code>house2</code> 对 <code>name</code>、<code>size</code> 与 <code>refrigerator.name</code> 重新赋值后，发现前两个字段的改变不会影响到 <code>house1</code>，但 <code>refrigerator.name</code> 的改变却影响到了 <code>house1</code>。</p><p>这是为什么呢？</p><h3 id=11-浅拷贝>1.1 浅拷贝</h3><p>这是因为，调用 <code>super.clone()</code> 获取一个对象的克隆时默认进行的是「浅拷贝」。即其只是新建了一个新的实例，然后参考原始对象对克隆对象进行逐个字段赋值。所以，字段若是原始类型或是指向不可变对象的引用类型，进行的是值传递，该字段赋值后即和原来的字段没有任何关系了；若字段是指向可变对象的引用类型，进行的是引用传递，该字段赋值后指向的其实还是原来字段指向的对象。</p><p>针对如上示例代码，<code>house1</code> 与 <code>house2</code> 指向的两个对象在内存中的示意图如下：</p><p><img loading=lazy src=https://leileiluoluo.github.io/static/images/uploads/2024/03/object-shallow-copy.svg#center alt=浅拷贝></p><h3 id=12-深拷贝>1.2 深拷贝</h3><p>可以看到，调用 <code>super.clone()</code> 仅实现了「浅拷贝」，如果我们想将指向的可变对象也重新复制一份，就需要额外做一些处理了。</p><p>如下代码在原来的基础上，将 <code>Refrigerator</code> 类也实现了 <code>Cloneable</code> 接口并重写了 <code>clone()</code> 方法。此外，还对 <code>House</code> 类的 <code>clone()</code> 方法做一点额外的处理（<code>house.refrigerator = house.refrigerator.clone();</code>）：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>House</span> <span style=color:#66d9ef>implements</span> Cloneable {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Integer size;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Refrigerator refrigerator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>House</span>(String name, Integer size, Refrigerator refrigerator) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> size;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> refrigerator;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> House <span style=color:#a6e22e>clone</span>() {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>            House house <span style=color:#f92672>=</span> (House) <span style=color:#66d9ef>super</span>.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>            house.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> house.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> house;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>catch</span> (CloneNotSupportedException e) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(e);
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Refrigerator</span> <span style=color:#66d9ef>implements</span> Cloneable {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Refrigerator</span>(String name) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>@Override</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> Refrigerator <span style=color:#a6e22e>clone</span>() {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>try</span> {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>return</span> (Refrigerator) <span style=color:#66d9ef>super</span>.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>            } <span style=color:#66d9ef>catch</span> (CloneNotSupportedException e) {
</span></span><span style=display:flex><span>                <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> RuntimeException(e);
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        House house1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> House(<span style=color:#e6db74>&#34;Larry&#39;s House&#34;</span>, 100, <span style=color:#66d9ef>new</span> Refrigerator(<span style=color:#e6db74>&#34;Larry&#39;s Refrigerator&#34;</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        House house2 <span style=color:#f92672>=</span> house1.<span style=color:#a6e22e>clone</span>();
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s House&#34;</span>;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> 99;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s Refrigerator&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1); <span style=color:#75715e>// House@404b9385</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 100</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// House$Refrigerator@6d311334</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2); <span style=color:#75715e>// House@682a0b20</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 99</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// House$Refrigerator@3d075dc0</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>这样，<code>house1</code> 的克隆 <code>house2</code> 对 <code>refrigerator.name</code> 重新赋值后即不会影响到 <code>house1</code> 了，这样即实现了深拷贝。</p><p>这时，<code>house1</code> 与 <code>house2</code> 指向的两个对象在内存中的示意图如下：</p><p><img loading=lazy src=https://leileiluoluo.github.io/static/images/uploads/2024/03/object-deep-copy.svg#center alt=深拷贝></p><p>但如果在冰箱类 <code>Refrigerator</code> 中新加一个苹果类（<code>Apple</code>）呢？即会出现与之前一样的问题。上面的代码只能实现到 <code>Refrigerator</code> 层的拷贝，而对于 <code>Apple</code> 又会是共享同一个对象。这样就需要我们重复如上的处理了（将 <code>Apple</code> 类也实现 <code>Cloneable</code> 接口并重写 <code>clone()</code> 方法，并改写 <code>Refrigerator</code> 类的 <code>clone()</code> 方法）。</p><p>总结一下，使用原生克隆方式需要遵循一定的规则，并且对于对象嵌套的情形处理起来还有点繁琐。</p><h2 id=2-其它实现方式>2 其它实现方式</h2><p>原生的方式用起来比较麻烦？有没有其它的方式来实现对象克隆呢？</p><h3 id=21-使用框架工具类>2.1 使用框架工具类</h3><p>Spring 框架自带的 <code>BeanUtils</code> 工具类可以帮助我们实现一个对象的逐字段拷贝。使用该工具类时，对应的类无需实现 <code>Cloneable</code> 接口，也无需重写 <code>clone()</code> 方法。</p><p>下面即是 <code>BeanUtils</code> 工具类提供的可以实现 <code>source</code> 到 <code>target</code> 拷贝的方法：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>BeanUtils.<span style=color:#a6e22e>copyProperties</span>(Object source, Object target);
</span></span></code></pre></div><p>使用时，需要添加如下 Maven 依赖：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.springframework<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>spring-beans<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>6.1.5<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>使用 <code>BeanUtils.copyProperties()</code> 实现 <code>House</code> 对象拷贝的示例代码如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> org.springframework.beans.BeanUtils;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CopyableHouse</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Integer size;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Refrigerator refrigerator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>CopyableHouse</span>() {
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>CopyableHouse</span>(String name, Integer size, Refrigerator refrigerator) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> size;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> refrigerator;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Refrigerator</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Refrigerator</span>() {
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Refrigerator</span>(String name) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        Refrigerator refrigerator <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Refrigerator(<span style=color:#e6db74>&#34;Larry&#39;s Refrigerator&#34;</span>);
</span></span><span style=display:flex><span>        CopyableHouse house1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> CopyableHouse(<span style=color:#e6db74>&#34;Larry&#39;s House&#34;</span>, 100, refrigerator);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        CopyableHouse house2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> CopyableHouse();
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Refrigerator();
</span></span><span style=display:flex><span>        BeanUtils.<span style=color:#a6e22e>copyProperties</span>(house1, house2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s House&#34;</span>;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> 99;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s Refrigerator&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1); <span style=color:#75715e>// CopyableHouse@75828a0f</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 100</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// CopyableHouse$Refrigerator@3abfe836</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2); <span style=color:#75715e>// CopyableHouse@2ff5659e</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 99</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// CopyableHouse$Refrigerator@77afea7d</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>可以看到，使用 <code>BeanUtils.copyProperties()</code> 可以实现我们期望的效果。</p><h3 id=22-使用拷贝构造器>2.2 使用拷贝构造器</h3><p>另一种是我们提供一个拷贝构造器或一个静态工厂拷贝方法来自己实现对象的拷贝逻辑。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>House</span> {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Integer size;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Refrigerator refrigerator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>House</span>(House house) {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> House <span style=color:#a6e22e>newInstance</span>(House house) {
</span></span><span style=display:flex><span>      <span style=color:#75715e>// ...</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>House house2 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> House(house1);
</span></span><span style=display:flex><span><span style=color:#75715e>// House house2 = House.newInstance(house1);</span>
</span></span></code></pre></div><h3 id=23-使用序列化与反序列化>2.3 使用序列化与反序列化</h3><p>还有一种方式是使用序列化与反序列化来实现对象的拷贝。即先将一个对象序列化到一个二进制文件，然后再将该对象反序列化出来，这样即是两个完全不同的实例。但要支持序列化，对应的类需要实现 <code>Serializable</code> 接口。此外，因为使用序列化与反序列化比较重，其性能不如原生的 <code>clone()</code> 方式。</p><p>下面使用 <code>commons-lang3</code> 中的 <code>SerializationUtils</code> 工具类来实现对象的克隆。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>SerializationUtils.<span style=color:#a6e22e>clone</span>(T object);
</span></span></code></pre></div><p>其 Maven 依赖如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#f92672>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;groupId&gt;</span>org.apache.commons<span style=color:#f92672>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;artifactId&gt;</span>commons-lang3<span style=color:#f92672>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>&lt;version&gt;</span>3.14.0<span style=color:#f92672>&lt;/version&gt;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>&lt;/dependency&gt;</span>
</span></span></code></pre></div><p>使用 <code>SerializationUtils.clone()</code> 实现 <code>House</code> 对象拷贝的示例代码如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f92672>import</span> org.apache.commons.lang3.SerializationUtils;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.Serial;
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> java.io.Serializable;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>public</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>SerializableHouse</span> <span style=color:#66d9ef>implements</span> Serializable {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@Serial</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>long</span> serialVersionUID <span style=color:#f92672>=</span> <span style=color:#f92672>-</span>3606554850313928707L;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Integer size;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>private</span> Refrigerator refrigerator;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>SerializableHouse</span>(String name, Integer size, Refrigerator refrigerator) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> size;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>refrigerator</span> <span style=color:#f92672>=</span> refrigerator;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Refrigerator</span> <span style=color:#66d9ef>implements</span> Serializable {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>@Serial</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>final</span> <span style=color:#66d9ef>long</span> serialVersionUID <span style=color:#f92672>=</span> 7744295794434285806L;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>private</span> String name;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>Refrigerator</span>(String name) {
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> name;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>public</span> <span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(String<span style=color:#f92672>[]</span> args) {
</span></span><span style=display:flex><span>        Refrigerator refrigerator <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Refrigerator(<span style=color:#e6db74>&#34;Larry&#39;s Refrigerator&#34;</span>);
</span></span><span style=display:flex><span>        SerializableHouse house1 <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> SerializableHouse(<span style=color:#e6db74>&#34;Larry&#39;s House&#34;</span>, 100, refrigerator);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        SerializableHouse house2 <span style=color:#f92672>=</span> SerializationUtils.<span style=color:#a6e22e>clone</span>(house1);
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s House&#34;</span>;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>size</span> <span style=color:#f92672>=</span> 99;
</span></span><span style=display:flex><span>        house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Jacky&#39;s Refrigerator&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1); <span style=color:#75715e>// SerializableHouse@5e9f23b4</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 100</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// SerializableHouse$Refrigerator@7e6cbb7a</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house1.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Larry&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2); <span style=color:#75715e>// SerializableHouse@5b37e0d2</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s House</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>size</span>); <span style=color:#75715e>// 99</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>); <span style=color:#75715e>// SerializableHouse$Refrigerator@4459eb14</span>
</span></span><span style=display:flex><span>        System.<span style=color:#a6e22e>out</span>.<span style=color:#a6e22e>println</span>(house2.<span style=color:#a6e22e>refrigerator</span>.<span style=color:#a6e22e>name</span>); <span style=color:#75715e>// Jacky&#39;s Refrigerator</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>可以看到，使用 <code>SerializationUtils.clone()</code> 克隆出的对象是一个与原始对象字段值完全相同但字段地址不同的新对象，对其中的字段重新赋值也不会对原始对象造成影响，符合我们的期望。</p><p>综上，本文介绍了 Java 中对象克隆的相关知识，包括对象克隆的概念、对象克隆的实现方式、浅拷贝与深拷贝、拷贝构造器等。此外还列出了一些适用的工具类来更便捷的帮助我们实现对象克隆。本文用于演示的所有完整代码已提交至本人 <a href=https://github.com/leileiluoluo/java-exercises/tree/main/object-clone-demo>GitHub</a>，欢迎关注或 Fork。</p><blockquote><p>参考资料</p><p>[1] Effective Java (3rd Edition): Override clone judiciously - <a href=https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/>https://www.oreilly.com/library/view/effective-java-3rd/9780134686097/</a></p><p>[2] Wikipedia: clone (Java method) - <a href=https://en.wikipedia.org/wiki/Clone_(Java_method)>https://en.wikipedia.org/wiki/Clone_(Java_method)</a></p><p>[3] Java Platform SE 8: Interface Cloneable - <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html>https://docs.oracle.com/javase/8/docs/api/java/lang/Cloneable.html</a></p><p>[4] Java Platform SE 8: Object.clone() - <a href=https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#clone-->https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html</a></p><p>[5] CSDN 博客：详解 Java 中的 clone 方法（原型模式）- <a href=https://blog.csdn.net/zhangjg_blog/article/details/18369201>https://blog.csdn.net/zhangjg_blog/article/details/18369201</a></p><p>[6] SegmentFault：Java 浅克隆和深克隆 - <a href=https://segmentfault.com/a/1190000022552883>https://segmentfault.com/a/1190000022552883</a></p><p>[7] Programming Guide: Java Clone and Cloneable - <a href=https://programming.guide/java/clone-and-cloneable.html>https://programming.guide/java/clone-and-cloneable.html</a></p><p>[8] HowToDoInJava: Java Cloning, Deep and Shallow Copy, Copy Constructors - <a href=https://howtodoinjava.com/java/cloning/a-guide-to-object-cloning-in-java/>https://howtodoinjava.com/java/cloning/a-guide-to-object-cloning-in-java/</a></p><p>[9] DigitalOcean: Java Object clone() Method - <a href=https://www.digitalocean.com/community/tutorials/java-clone-object-cloning-java>https://www.digitalocean.com/community/tutorials/java-clone-object-cloning-java</a></p><p>[10] CSDN 博客：Java 实现对象克隆的三种方式（Cloneable 接口、Java 自身序列化、FastJson 序列化）- <a href=https://blog.csdn.net/dl962454/article/details/114780240>https://blog.csdn.net/dl962454/article/details/114780240</a></p></blockquote></div><div class=content-footer><div class=post-tags><a href=/tags/java/>#Java</a></div></div></div><div class="col-lg-8 mx-auto block shadow"><h3>相关文章</h3><ul><li><a href=/posts/comparable-and-comparator-in-java.html>Java 中的 Comparable 与 Comparator 接口使用详解</a></li><li><a href=/posts/spring-data-mongodb.html>如何使用 Spring Data MongoDB 访问 MongoDB 数据库？</a></li><li><a href=/posts/singleton-pattern-in-java.html>深入理解 Java 中的单例模式</a></li><li><a href=/posts/spring-boot-mybatis-integration.html>Spring Boot 如何集成 MyBatis 进行数据库访问？</a></li><li><a href=/posts/always-override-hashcode-when-override-equals.html>Java：为什么重写 equals 方法时必须同时重写 hashCode 方法？</a></li></ul></div><div class="col-lg-8 mx-auto block shadow"><div><h3>评论</h3><div id=comment-loading style=text-align:center;font-size:14px><img style=width:52px src=/static/images/site/mona-loading-default.gif>
<span>正在加载评论......</span></div><script>function handleMessage(e){if(e.origin!=="https://giscus.app")return;if(typeof e.data!="object"||!e.data.giscus)return;const t=document.getElementById("comment-loading");t.style.display="none"}window.addEventListener("message",handleMessage)</script><script src=https://giscus.app/client.js data-repo=leileiluoluo/leileiluoluo.github.io data-repo-id=R_kgDOJkLT8w data-category=General data-category-id=DIC_kwDOJkLT884CdtEh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN crossorigin=anonymous async></script></div></div></div></div></section><footer class="py-4 bg-lights border-top"><div class=container><div class="row justify-content-between text-center align-items-center"><div class="col-lg-4 text-center text-lg-left mb-4 mb-lg-0"></div><div class="col-lg-4 text-center mb-4 mb-lg-0"><ul class="list-inline mb-0"><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/leetcode-golang-implementations>LeetCode</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/about>关于本博</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/links>友情链接</a></li></ul></div><div class="col-lg-4 text-lg-right text-center mb-4 mb-lg-0"><ul class="list-inline social-icon mb-0"><li class=list-inline-item><a title=文章归档 href=/archives/><i class=ti-archive></i></a></li><li class=list-inline-item><a title=文章标签 href=/tags/><i class=ti-tag></i></a></li><li class=list-inline-item><a title="我的 GitHub" href=https://github.com/leileiluoluo><i class=ti-github></i></a></li><li class=list-inline-item><a title="网站 RSS" href=/index.xml><i class=ti-rss></i></a></li></ul></div></div><div style=text-align:center;font-size:18px;margin-bottom:22px><a style="-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to right,#14100f,#d55b5b,#4d14e6)" href=https://www.boyouquan.com/planet-shuttle>「博友圈 · 星球穿梭」</a></div><div class="text-center mt-4"><span>Made with <a href=https://gohugo.io/>Hugo</a> | Theme by <a href=https://github.com/themefisher/northendlab-hugo>NorthendLab</a> | <a href=https://beian.miit.gov.cn>辽ICP备2022012085号-5</a> | Copyright © 2017-2024</span></div></div></footer><script>var indexURL="https://leileiluoluo.github.io/index.json"</script><script src=https://leileiluoluo.github.io/js/jquery.min.js></script><script src=https://leileiluoluo.github.io/js/bootstrap.min.js></script><script src=https://leileiluoluo.github.io/js/fuse.min.js></script><script src=https://leileiluoluo.github.io/js/mark.js></script><script src=https://leileiluoluo.github.io/js/search.js></script><script src=https://leileiluoluo.github.io/js/script.min.js></script></body></html>