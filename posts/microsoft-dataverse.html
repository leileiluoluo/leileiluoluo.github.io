<!doctype html><html lang=zh-cn><head><meta charset=utf-8><title>Microsoft Dataverse 基础 - 磊磊落落</title>
<meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=keywords content="Power Platform,Dataverse,低代码,微软,Microsoft"><meta name=description content="Dataverse 基础。包含 Dataverse 的功能，Dataverse 中的表、表与表的关系、业务规则的设置及 Dataverse 环境与管理中心等几个方面。"><meta name=author content="磊磊落落"><meta name=generator content="Hugo 0.123.7"><link rel=stylesheet href=https://leileiluoluo.github.io/css/bootstrap.min.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/themify-icons.css><link rel=stylesheet href=https://leileiluoluo.github.io/css/larry-custom-v1.6.css><link rel=stylesheet href=https://leileiluoluo.github.io/scss/style.min.css media=screen><link rel="shortcut icon" href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon><link rel=icon href=https://leileiluoluo.github.io/images/favicon.png type=image/x-icon><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?526723b767317055572c85bdb445353c",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script></head><body><header class="fixed-top navigation"><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=navbar-brand href=https://leileiluoluo.github.io/>磊磊落落</a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/></a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/>计算机</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E9%9A%8F%E7%AC%94/>随笔</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%AF%BB%E4%B9%A6/>读书</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E8%A7%82%E5%BD%B1/>观影</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/categories/%E7%BB%83%E5%AD%97/>练字</a></li><li class=nav-item><a class=nav-link href=https://leileiluoluo.github.io/about>关于</a></li></ul><div class=search><button id=searchOpen class=search-btn><i class=ti-search></i></button><div class=search-wrapper><form action=https://leileiluoluo.github.io//search class=h-100><input class="search-box px-4" id=search-query name=s type=search placeholder=键入关键字后回车...></form><button id=searchClose class=search-close><i class="ti-close text-dark"></i></button></div></div></div></nav></div></header><div class="py-5 d-none d-lg-block"></div><section class=section><div class=container><div class=row><div class="col-lg-8 mx-auto block shadow mb-5"><h1>Microsoft Dataverse 基础</h1><div class="mb-3 post-meta">2022年11月18日
<a href=/categories/%e8%ae%a1%e7%ae%97%e6%9c%ba>计算机</a></div><div class="content mb-5"><p>在上文<a href=https://leileiluoluo.github.io/posts/what-is-power-platform.html>「Power Platform 是什么？」</a>中，我们对 Microsoft Dataverse 是什么作过一个简单的介绍。</p><p>本文会稍微深入的了解一下 Dataverse。</p><p>Dataverse 是一个云上的低代码数据服务，主要为 Power Apps、Power Automate 和 Power BI 所使用，负责安全的存储与管理数据。</p><p>Dataverse 有什么功能呢？请看下图：</p><p><img loading=lazy src=https://leileiluoluo.github.io/static/images/uploads/2022/11/dataverse-diagram.png#center alt="Dataverse 的功能"></p><p>可以看到，Dataverse 提供安全控制、逻辑处理、数据处理、数据存储及与外部系统集成等诸多功能。下面分别看一下：</p><ul><li><p>安全控制</p><p>Dataverse 使用 Azure AD（Azure Active Directory，Azure 身份认证与访问管理服务）作身份验证。可以提供细致到行或列级别的权限控制，并提供丰富的审计功能。</p></li><li><p>逻辑处理</p><p>Dataverse 允许在数据级别进行业务逻辑处理。如进行重复检查、业务规则应用和工作流处理等。</p></li><li><p>数据处理</p><p>Dataverse 允许对数据进行塑形。</p></li><li><p>数据存储</p><p>Dataverse 将数据存储在 Azure 云上，让使用者完全无需关心数据的存储和扩展。</p></li><li><p>系统集成</p><p>Dataverse 支持多种数据导出方式，并可通过各种 API 与外部系统进行集成。</p></li></ul><p>可以看到，Dataverse 是一个非常易于使用的云数据服务，其使用表（由行和列来组成）来存储数据。一个 Dataverse 数据库为 Dataverse 的一个单独的实例，我们可以根据业务需要创建一个或多个 Dataverse 数据库实例来存储数据（每个实例最多可存储 4T 的数据）。</p><p>创建 Dataverse 数据库实例后，可以自定义列来存储数据。数据存好后，可以在 Power Apps、Power Automate 和 Power BI 中直接使用，也可以使用 Connector 或 API 来访问以供业务应用使用。因其提供诸如基于角色或基于业务规则的多种权限控制策略，这样不论数据以何种方式访问，都可以得到安全的控制。</p><p>Dataverse 数据库中的表遵循通用数据模型标准（Common Data Model，由 Microsoft 和伙伴公司发起，提供模式、表与关系的设计标准），这样即可与任何遵循该标准的应用进行无缝集成。</p><p>有了如上对 Dataverse 的简单介绍后，下面会从 Dataverse 中的表、表与表的关系、业务规则设置及 Dataverse 环境与管理中心几个方面分别作介绍。</p><h3 id=1-dataverse-中的表>1 Dataverse 中的表</h3><p>表由行和列组成，为表示一组数据的逻辑结构。Dataverse 包含三种类型的表，分别为：标准表、托管表和自定义表。</p><ul><li>标准表（Standard Table） - 为 Dataverse 环境中自带的表，也称为“开箱即用”表，如帐户、业务部门和联系人等都为 Dataverse 中的标准表。大多数标准表都支持自定义。</li><li>托管表（Managed Table） - 无法自定义的表。其作为托管解决方案的一部分被导入到 Dataverse 环境中。</li><li>自定义表（Custom Table）- 由非托管解决方案导入的非托管表或在 Dataverse 环境中新创建的表。</li></ul><p>列用于存储表中行的离散信息，其有具体的类型（如用于存储日期的 Date 类型列和用于存储数字的 Number 类型列）。</p><h3 id=2-dataverse-中表与表的关系>2 Dataverse 中表与表的关系</h3><p>为了高效且便于扩展，通常需要将数据拆分到不同的表（Dataverse 中也叫 Container）中，如一个销售管理系统通常会包含 Customer、Product、Order 和 OrderItem 等表。拆分为多个表后，表与表之间通常会具有关系，常见的有一对多和多对多，这两种关系都是 Dataverse 所支持的。</p><p>一对多关系也被称为“父子关系”，如在上述例子中，Order 为父表，OrderItem 为子表。一个 Order 可以有 0 个或多个 OrderItem，但一个 OrderItem 仅属于一个 Order，而且不可能存在没有 Order 的 OrderItem。</p><p>而且，一个表中只允许唯一值的列（如 Order 表的 ID 列）被称为主键。若一个表的主键被另一个表的某一列所引用（如 Order 表的 ID 列被 OrderItem 的 OrderID 列所引用），则其被称为另一个表的外键。</p><h3 id=3-dataverse-中的业务规则>3 Dataverse 中的业务规则</h3><p>我们可以在 Dataverse 中定义业务规则，这样即可以在数据层（而非应用层）应用业务逻辑。这有助于提高数据的准确性、简化应用程序开发和简化呈现给最终用户的表单。</p><p>业务规则可被画布应用（Canvas App）和模型驱动应用（Model-driven App）用于填充或清空一个表某些列的值，也可被用于校验数据或展示错误信息。</p><p>此外模型驱动应用还可以使用业务规则来显示或隐藏某些列，启用或禁用某些列，以及使用商业智能来创建推荐信息。</p><p>下面举一个使用业务规则的例子：</p><p>若信用限额字段<code>Credit Limit</code>的值超过 100 万美元，则将信用限额 VP 审批人字段<code>Credit Limit VP Approver</code>设置为必填字段。</p><p><img loading=lazy src=https://leileiluoluo.github.io/static/images/uploads/2022/11/business-rule.png#center alt=业务规则使用示例></p><p>这样，在数据层应用业务规则，可以使得数据不论以何种方式访问（如在 Power Apps 或 Power Automate 中直接访问或通过 API 访问），都可以得到一致的控制。</p><h3 id=4-dataverse-环境与管理中心>4 Dataverse 环境与管理中心</h3><p>环境用于在 Power Platform 中存储、管理和共享企业的数据、应用程序和流程。我们可以在每个环境下新建对应的 Dataverse 数据库，从而在对应环境下进行访问控制、安全设置及存储配置。</p><p>每个环境是在 Azure AD（Azure Active Directory）租户下创建的，因此只有对应租户下的人才有访问对应环境的权限。同时，环境也与地理位置（如 United States）绑定，所以在同一环境下创建的资源同属一个地理位置。</p><p>我们可以以用途来区分环境（如开发、测试和生产）或以地理位置来区分环境（如 Asia、Europe 和 America）。</p><p>Power Platform 的多数管理任务都可以在 Power Platform 管理中心进行，页面如下图所示：</p><p><img loading=lazy src=https://leileiluoluo.github.io/static/images/uploads/2022/11/admin.png#center alt="Power Platform 管理中心"></p><p>管理中心包括如下几个管理大项：</p><ul><li>环境（Environments）- 列出所有的环境。可以从中看到所有的 Dataverse 实例。</li><li>数据策略（Data policies）- 用于设置数据策略。可以设置什么数据可以流入或流出 Dataverse 表。</li><li>数据集成（Data integration）- 管理及监控与外部系统的连接。如建立或监控 Dataverse 与 Salesforce 或 SQL Server 的连接。</li></ul><p>综上，完成了对 Dataverse 基础知识的介绍。</p><blockquote><p>参考资料</p><p>[1] <a href=https://learn.microsoft.com/en-us/training/modules/introduction-common-data-service/>Introduction to Dataverse - microsoft.com</a></p><p>[2] <a href=https://learn.microsoft.com/en-us/power-apps/maker/data-platform/>Microsoft Dataverse documentation - microsoft.com</a></p><p>[3] <a href=https://powerplatform.microsoft.com/en-us/dataverse/>Microsoft Dataverse - microsoft.com</a></p></blockquote></div><div class=content-footer><div class=weixinhao><img src=/static/images/self/weixinhao-white.jpg></div><div class=post-tags><a href=/tags/power-platform/>#Power Platform</a></div><div class=license><i class=ti-info-alt></i><div class=info>版权声明：该博客文章由作者通过「<a href=https://creativecommons.org/licenses/by/4.0/deed.zh>知识共享署名 4.0 许可证</a>」进行授权，转载须注明文章原始链接。</div></div></div></div><div class="col-lg-8 mx-auto block shadow"><h3>相关文章</h3><ul><li><a href=/posts/power-automate.html>Power Automate 初探</a></li><li><a href=/posts/power-apps.html>Power Apps 初探</a></li><li><a href=/posts/what-is-power-platform.html>Power Platform 是什么？</a></li></ul></div><div class="col-lg-8 mx-auto block shadow"><div><h3>评论</h3><div id=comment-loading style=text-align:center;font-size:14px><img style=width:52px src=/static/images/site/mona-loading-default.gif>
<span>正在加载评论......</span></div><script>function handleMessage(e){if(e.origin!=="https://giscus.app")return;if(typeof e.data!="object"||!e.data.giscus)return;const t=document.getElementById("comment-loading");t.style.display="none"}window.addEventListener("message",handleMessage)</script><script src=https://giscus.app/client.js data-repo=leileiluoluo/leileiluoluo.github.io data-repo-id=R_kgDOJkLT8w data-category=General data-category-id=DIC_kwDOJkLT884CdtEh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=zh-CN data-loading=lazy crossorigin=anonymous async></script></div></div></div></div></section><footer class="py-4 bg-lights border-top"><div class=container><div class="row justify-content-between text-center align-items-center"><div class="col-lg-4 text-center text-lg-left mb-4 mb-lg-0"></div><div class="col-lg-4 text-center mb-4 mb-lg-0"><ul class="list-inline mb-0"><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/sponsor>随喜打赏</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/about>关于本博</a></li><li class=list-inline-item><a class="text-dark d-block p-2" href=https://leileiluoluo.github.io/links>友情链接</a></li></ul></div><div class="col-lg-4 text-lg-right text-center mb-4 mb-lg-0"><ul class="list-inline social-icon mb-0"><li class=list-inline-item><a title=文章归档 href=/archives/><i class=ti-archive></i></a></li><li class=list-inline-item><a title=文章标签 href=/tags/><i class=ti-tag></i></a></li><li class=list-inline-item><a title="我的 GitHub" href=https://github.com/leileiluoluo><i class=ti-github></i></a></li><li class=list-inline-item><a title="网站 RSS" href=/index.xml><i class=ti-rss></i></a></li></ul></div></div><div style=text-align:center;font-size:18px;margin-bottom:22px><a style="-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-image:linear-gradient(to right,#14100f,#d55b5b,#4d14e6)" href=https://www.boyouquan.com/planet-shuttle>「博友圈 · 星球穿梭」</a></div><div class="text-center mt-4"><span>Made with <a href=https://gohugo.io/>Hugo</a> | Theme by <a href=https://github.com/themefisher/northendlab-hugo>NorthendLab</a> | <a href=https://beian.miit.gov.cn>辽ICP备2022012085号-5</a> | Copyright © 2017-2024</span></div></div></footer><script>var indexURL="https://leileiluoluo.github.io/index.json"</script><script src=https://leileiluoluo.github.io/js/jquery.min.js></script><script src=https://leileiluoluo.github.io/js/bootstrap.min.js></script><script src=https://leileiluoluo.github.io/js/fuse.min.js></script><script src=https://leileiluoluo.github.io/js/mark.js></script><script src=https://leileiluoluo.github.io/js/search.js></script><script src=https://leileiluoluo.github.io/js/script.min.js></script></body></html>